# üê≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ Docker Compose V2

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ü—Ä–æ–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **Docker Compose V2** (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è).

### –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

**–°—Ç–∞—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞** (V1):
```bash
docker-compose up -d
```

**–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞** (V2):
```bash
docker compose up -d
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–µ—Ñ–∏—Å (`-`) –º–µ–∂–¥—É `docker` –∏ `compose` —É–±—Ä–∞–Ω!

---

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:

- ‚úÖ `docker-compose.yml` - —É–¥–∞–ª–µ–Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ `version`
- ‚úÖ `start-admin-backend.sh` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `test-api.sh` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `COMMANDS.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `SETUP-GUIDE.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `TESTING.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `STATUS.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `README-Docker.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üí° –ù–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–∞–Ω–¥

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ó–∞–ø—É—Å–∫
docker compose up -d

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose up -d postgres redis admin_backend

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose stop

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose stop admin_backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart admin_backend

# –ü–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes
docker compose down -v
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps

# –õ–æ–≥–∏
docker compose logs -f admin_backend

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker compose logs --tail=100 admin_backend
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥

```bash
# Artisan –∫–æ–º–∞–Ω–¥—ã
docker compose exec admin_backend php artisan migrate

# Composer –∫–æ–º–∞–Ω–¥—ã
docker compose exec admin_backend composer install

# –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose exec admin_backend bash
```

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤

```bash
# –°–±–æ—Ä–∫–∞
docker compose build admin_backend

# –°–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker compose build --no-cache admin_backend

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker compose up -d --build admin_backend
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å V1 –Ω–∞ V2

### –ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω docker-compose V1

Docker Compose V2 –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø–ª–∞–≥–∏–Ω Docker CLI –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Docker Desktop.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Docker Compose
docker compose version

# –í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º:
# Docker Compose version v2.x.x
```

### –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ï—Å–ª–∏ `docker compose` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–º–æ–∂–Ω–æ —É –≤–∞—Å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Docker. –û–±–Ω–æ–≤–∏—Ç–µ Docker:

```bash
# –î–ª—è Ubuntu/Debian
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# –î–ª—è –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º —Å–º. –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
# https://docs.docker.com/compose/install/
```

---

## üÜö –†–∞–∑–ª–∏—á–∏—è V1 vs V2

| –ê—Å–ø–µ–∫—Ç | V1 (—Å—Ç–∞—Ä–∞—è) | V2 (–Ω–æ–≤–∞—è) |
|--------|-------------|------------|
| –ö–æ–º–∞–Ω–¥–∞ | `docker-compose` | `docker compose` |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ | –û—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ | –ü–ª–∞–≥–∏–Ω Docker CLI |
| –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | –¢—Ä–µ–±—É–µ—Ç `version: '3.8'` | –ü–æ–ª–µ `version` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ | –ë—ã—Å—Ç—Ä–µ–µ |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è | –ê–∫—Ç–∏–≤–Ω–∞—è |

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ V2

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker CLI** - –µ–¥–∏–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `docker`
2. **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ Go
3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
4. **–ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ docker-compose.yml

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker Compose V2](https://docs.docker.com/compose/)
- [–ú–∏–≥—Ä–∞—Ü–∏—è —Å V1 –Ω–∞ V2](https://docs.docker.com/compose/migrate/)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose](https://docs.docker.com/compose/install/)

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –Ω–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º

```bash
# 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
docker compose up -d postgres redis admin_backend

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker compose ps

# 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f admin_backend

# 4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
docker compose exec admin_backend php artisan migrate

# 5. –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose stop
```

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 23 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
